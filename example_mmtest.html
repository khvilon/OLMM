<!doctype html>
<html lang="en">
<head>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <link rel="stylesheet" href="OpenLayers/css/ol.css" type="text/css">
    <script src="OpenLayers/build/ol.js" type="text/javascript"></script>
    <script src="apps/core.js" type="text/javascript"></script>
    <script src="presets/styles.js" type="text/javascript"></script>
    <script src="presets/layers.js" type="text/javascript"></script>
    <script src="presets/sources.js" type="text/javascript"></script>
    <script src="apps/mmtest.js" type="text/javascript"></script>

    <style>
        .map {
            height: 100%;
            width: 100%;
        } 
    </style>

    <title>my example</title>
</head>
<body>
<div id="map" class="map"></div>
<script type="text/javascript">

    sel = function (id) {
        console.log(id);
    }

    var olmm = new OLMM();
    olmm.createMMTestLayers();
    olmm.init('map', sel);


    var data_to_show_points_0 = {
        "point_num": 0, "proj": [{
            "lat": 55.72,
            "lon": 37.56,
            "geometry": [{
                "type": "LineString",
                "coordinates": [[55.72499371540099, 37.55020063875089],
                    [55.72503, 37.55016],
                    [55.72527009512485, 37.5499079001189]]
                }
            ],
            "arc_id": "470186"
        },
            {
                "lat": 55.72503,
                "lon": 37.55016,
                "geometry": [{
                    "type": "LineString",
                    "coordinates": [[55.72503, 37.55016],
                        [55.72527009512485, 37.5499079001189]]
                }
                ],
                "arc_id": "470187"
            }]
    }
    var data_to_show_points_1 = {
        "point_num": 1, "proj": [{
            "lat": 56.72499371540099,
            "lon": 38.55020063875089,
            "geometry": [{
                "type": "LineString",
                "coordinates": [[55.72499371540099, 37.55020063875089],
                    [55.72503, 37.55016],
                    [55.72527009512485, 37.5499079001189]]
            }
            ],
            "arc_id": "470186"
        },
            {
                "lat": 59.72503,
                "lon": 39.55016,
                "geometry": [{
                    "type": "LineString",
                    "coordinates": [[55.72503, 37.55016],
                        [55.72527009512485, 37.5499079001189]]
                }
                ],
                "arc_id": "470187"
            }]
    }
    var pnts = [
        {
            "lat": 55.72,
            "lon": 37.56,
            "rot": 326,
            "good_proj": {
                "lat": 55.72499371540099,
                "text": "arc_id 470186 p[55.724993,37.5502] distance=0.09 az[p=5.69 arc=5.72] dA=0.0297 pd2=0.197364731777 pa2=0.149697956959 prob=0.183064699331",
                "lon": 37.55020063875089,
                "geometry": [{
                    "type": "LineString",
                    "coordinates": [[55.72499371540099, 37.55020063875089], [55.72503, 37.55016], [55.72527009512485, 37.5499079001189]]
                }],
                "arc_id": "470186"
            },
            "mm_proj": {
                "lat": 55.72499371540099,
                "text": "arc_id 470186 p[55.724993,37.5502] distance=0.09 az[p=5.69 arc=5.72] dA=0.0297 pd2=0.197364731777 pa2=0.149697956959 prob=0.183064699331",
                "lon": 37.55020063875089,
                "geometry": [{
                    "type": "LineString",
                    "coordinates": [[55.72499371540099, 37.55020063875089], [55.72503, 37.55016], [55.72527009512485, 37.5499079001189]]
                }],
                "arc_id": "470186"
            },
            "coords": [4180069.143185581, 7503863.198874875]
        },

        {
            "lat": 55.725,
            "lon": 37.5499,
            "rot": 326,
            "good_proj": {
                "lat": 55.72399371540099,
                "text": "arc_id 470186 p[55.724993,37.5502] distance=0.09 az[p=5.69 arc=5.72] dA=0.0297 pd2=0.197364731777 pa2=0.149697956959 prob=0.183064699331",
                "lon": 37.55020063875089,
                "geometry": [{
                    "type": "LineString",
                    "coordinates": [[55.72499371540099, 37.55020063875089], [55.72503, 37.55016], [55.72527009512485, 37.5499079001189]]
                }],
                "arc_id": "470186"
            },
            "mm_proj": {
                "lat": 55.72499371540099,
                "text": "arc_id 470186 p[55.724993,37.5502] distance=0.09 az[p=5.69 arc=5.72] dA=0.0297 pd2=0.197364731777 pa2=0.149697956959 prob=0.183064699331",
                "lon": 37.53020063875089,
                "geometry": [{
                    "type": "LineString",
                    "coordinates": [[55.72499371540099, 37.55020063875089], [55.72503, 37.55016], [55.72527009512485, 37.5499079001189]]
                }],
                "arc_id": "470186"
            },
            "coords": [4180069.143185581, 7503863.198874875]
        }

    ]

    data_to_set = {
        "point_num": 1, "proj": {
            "lat": 59.72503,
            "lon": 39.55016,
            "geometry": [{
                "type": "LineString",
                "coordinates": [[55.72503, 37.55016],
                    [55.72527009512485, 37.5499079001189]]
            }
            ],
            "arc_id": "470187"
        }
    };




    //olmm.draw_tdr_lines(pnts);
    //olmm.draw_tdr_points(data_to_show_points_0);
    //olmm.draw_tdr_geometry(data_to_show_points_1);

</script>
</body>
</html>
