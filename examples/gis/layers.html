<!doctype html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../../openlayers/ol.css" type="text/css">
    <script src="../../jquery-1.10.2.js"></script>
    <script src="../../openlayers/ol.js" type="text/javascript"></script>
    <script src="../../apps/core.js" type="text/javascript"></script>
    <script src="../../interactions/add.js" type="text/javascript"></script>
    <script src="../../presets/styles.js" type="text/javascript"></script>
    <script src="../../presets/layers.js" type="text/javascript"></script>
    <script src="../../presets/sources.js" type="text/javascript"></script>
    <script src="../../utils/geojson.js" type="text/javascript"></script>
    <script src="../../utils/transform.js" type="text/javascript"></script>
    <script src="../../utils/map.js" type="text/javascript"></script>
    <script src="../../apps/gis.js" type="text/javascript"></script>

    <style>
        .map {
            height: 100%;
            width: 100%;
        }
    </style>

    <title>switch layers example</title>
</head>
<body>

<div style="position: fixed; z-index: 1000; padding: 10px; border: 3px solid black; border-radius: 5px; margin-left: 55px; margin-top: 12px;">
    <label>map</label>
    <input type="checkbox" class="toggle-layers" name="map" checked="checked"/>
    <label>roads</label>
    <input type="checkbox" class="toggle-layers" name="roads" checked="checked"/>
    <label>froads</label>
    <input type="checkbox" class="toggle-layers" name="froads" checked="checked"/>
    <label>svp</label>
    <input type="checkbox" class="toggle-layers" name="svp" checked="checked"/>
</div>

<div id="map" class="map"></div>
<script type="text/javascript">
    sel = function (id) {
        console.log(id);
    };

    var olmm = new OLMM();
    olmm.createMap('map');



    var a = [
        {'layer_name': 'map', wms_conf: {'url': 'http://10.0.2.60/mapcache/', 'layers': 'osm', 'visible': true}},
        {'layer_name': 'roads', wms_conf: {'url': 'http://10.0.2.60/mapcache/', 'layers': 'road', 'visible': false}},
        {'layer_name': 'froads', wms_conf: {'url': 'http://10.0.2.60/mapcache/', 'layers': 'froads', 'visible': false}},
        {'layer_name': 'svp', wms_conf: {'url': 'http://10.0.2.60/mapcache/', 'layers': 'svp', 'visible': false}}
    ];

    olmm.loadWMSLayers(a);

    $(document).ready(function(){
        $('.toggle-layers').on('click', function() {
            olmm.setLayerVisible(this.name, this.checked);
        })
    })

</script>
</body>
</html>
